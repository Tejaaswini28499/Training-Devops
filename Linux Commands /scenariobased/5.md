Okay, letâ€™s break this **like weâ€™re detectives hunting for a memory-hogging process** on your Linux server. Iâ€™ll explain step by step.

---

### **Step 1: Check overall memory usage**

You want to first see if your memory is actually full and if swap is being used.

```bash
free -h
```

* `total` = total memory
* `used` = memory in use
* `free` = free memory
* `buff/cache` = memory used for caching (can be freed)
* `swap` = if swap is being used, RAM is exhausted

Example output:

```
              total        used        free      shared  buff/cache   available
Mem:           8Gi        7.5Gi       0.5Gi       0.1Gi       0Gi       0.2Gi
Swap:          2Gi        1.5Gi       0.5Gi
```

âœ… If `used` is very high and `swap` is in use, we have a memory pressure.

---

### **Step 2: Find top memory-consuming processes**

Use `top` or `htop`:

```bash
top
```

* Press `M` (capital) inside `top` â†’ sorts by **memory usage**
* Look for `%MEM` column â†’ shows memory usage per process
* Note `PID` and process name

Or, more compactly:

```bash
ps aux --sort=-%mem | head -10
```

* Shows **top 10 memory-consuming processes** with:

  * USER
  * PID
  * %MEM
  * COMMAND

---

### **Step 3: Check detailed memory usage per process**

Sometimes `%MEM` is not enough. You can see **actual memory in MB/GB**:

```bash
ps -eo pid,ppid,cmd,%mem,rss --sort=-rss | head -10
```

* `rss` = Resident Set Size â†’ actual RAM used by process
* Helps identify memory leaks

---

### **Step 4: Check for memory leaks**

If a process keeps **growing over time**, it might have a memory leak:

```bash
watch -n 5 'ps -eo pid,cmd,rss --sort=-rss | head -10'
```

* Updates every 5 seconds to track growth
* Look for any process steadily increasing in RSS

---

### **Step 5: Investigate further**

* If itâ€™s a Java process â†’ check `jmap`, `jconsole`
* If itâ€™s a database â†’ check for queries or cache size

---

### **Step 6: Take action**

* Kill the rogue process (if safe):

```bash
kill -9 <PID>
```

* Or, restart the service gracefully
* Consider adding **memory limits** using `systemd` or `cgroups`

---

ðŸ’¡ **Pro tip:**

* `vmstat 1` shows system-wide memory and swap activity in real time.
* `smem` (if installed) gives **per-process memory accounting** including shared libraries.

---

If you want, I can give a **single command that instantly lists the top memory hogs in MB/GB with process names**, so you donâ€™t have to scroll through `top`. Itâ€™s very handy in real emergencies.

Do you want me to do that?
